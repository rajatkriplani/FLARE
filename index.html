<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>FLARE - Facility Location and Routing Explorer</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet" />
    <link href="styles.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/lucide@latest/dist/umd/lucide.min.js"></script>
</head>

<body>
    <div class="min-h-screen flex bg-gray-50">
        <!-- Sidebar -->
        <aside id="sidebar" class="w-20 bg-gray-900 text-white fixed h-full transition-all duration-300 ease-in-out z-10">
            <div class="p-4 flex items-center">
                <div class="flex items-center justify-center w-12 h-12 rounded-full bg-blue-600">
                    <i data-lucide="map-pin" class="w-6 h-6 text-white nav-icon"></i>
                </div>
                <h1 class="text-xl font-bold ml-3 sidebar-expanded-only">FLARE</h1>
            </div>
            
            <div class="mt-2 px-4 text-xs text-gray-400 sidebar-expanded-only">
                Facility Location & Routing Explorer
            </div>
            
            <nav class="mt-8 space-y-1 px-2">
                <a href="#dashboard" class="nav-link flex items-center px-3 py-3 rounded-md transition-colors bg-blue-700 text-white" data-section="dashboard">
                    <div class="flex items-center justify-center w-6 h-6">
                        <i data-lucide="bar-chart-3" class="w-5 h-5 nav-icon"></i>
                    </div>
                    <span class="ml-3 sidebar-expanded-only">Dashboard</span>
                </a>
                <a href="#datainput" class="nav-link flex items-center px-3 py-3 rounded-md transition-colors text-gray-300 hover:bg-gray-800 hover:text-white" data-section="datainput">
                    <div class="flex items-center justify-center w-6 h-6">
                        <i data-lucide="database" class="w-5 h-5 nav-icon"></i>
                    </div>
                    <span class="ml-3 sidebar-expanded-only">Data Input</span>
                </a>
                <a href="#controls" class="nav-link flex items-center px-3 py-3 rounded-md transition-colors text-gray-300 hover:bg-gray-800 hover:text-white" data-section="controls">
                    <div class="flex items-center justify-center w-6 h-6">
                        <i data-lucide="sliders" class="w-5 h-5 nav-icon"></i>
                    </div>
                    <span class="ml-3 sidebar-expanded-only">Controls</span>
                </a>
                <a href="#settings" class="nav-link flex items-center px-3 py-3 rounded-md transition-colors text-gray-300 hover:bg-gray-800 hover:text-white" data-section="settings">
                    <div class="flex items-center justify-center w-6 h-6">
                        <i data-lucide="settings" class="w-5 h-5 nav-icon"></i>
                    </div>
                    <span class="ml-3 sidebar-expanded-only">Settings</span>
                </a>
            </nav>
            
            <div class="absolute bottom-0 left-0 right-0 p-4 sidebar-expanded-only">
                <div class="flex items-center text-sm text-gray-400">
                    <div class="w-2 h-2 rounded-full bg-green-500 mr-2"></div>
                    <span>Connected to LG</span>
                </div>
            </div>
        </aside>

        <!-- Main content -->
        <main id="main-content" class="flex-1 ml-20 transition-all duration-300">
            <!-- Dashboard Section -->
            <section id="dashboard-section" class="page-section">
                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
                    <div class="border-b border-gray-200 pb-4">
                        <h1 class="text-2xl font-bold text-gray-900">Dashboard</h1>
                        <p class="text-sm text-gray-500 mt-1">Overview of facility operations and status</p>
                    </div>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mt-6">
                        <div class="bg-white rounded-lg shadow-sm p-6 transition-all duration-300 hover:shadow-md">
                            <div class="flex justify-between items-start mb-4">
                                <h2 class="text-lg font-semibold text-gray-900">LG Rig Status</h2>
                                <span class="px-3 py-1 rounded-full text-sm bg-green-100 text-green-800">
                                    <div class="inline-block w-2 h-2 rounded-full mr-1 bg-green-500"></div>
                                    Connected
                                </span>
                            </div>
                            <div class="space-y-3">
                                <div class="flex items-center text-gray-600">
                                    <div class="w-5 h-5 mr-2 text-gray-500">
                                        <i data-lucide="network" class="w-5 h-5"></i>
                                    </div>
                                    <span>IP: 192.168.1.101</span>
                                </div>
                                <div class="flex items-center text-gray-600">
                                    <div class="w-5 h-5 mr-2 text-gray-500">
                                        <i data-lucide="signal" class="w-5 h-5"></i>
                                    </div>
                                    <span>Signal Strength: Excellent</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="bg-white rounded-lg shadow-sm p-6 transition-all duration-300 hover:shadow-md">
                            <div class="flex justify-between items-start mb-4">
                                <h2 class="text-lg font-semibold text-gray-900">Last Optimization</h2>
                                <span class="text-sm text-gray-500">Mar 24, 2025 - 14:12</span>
                            </div>
                            <div class="space-y-3">
                                <div class="flex items-center text-gray-600">
                                    <div class="w-5 h-5 mr-2 text-gray-500">
                                        <i data-lucide="building" class="w-5 h-5"></i>
                                    </div>
                                    <span>3 Facilities</span>
                                </div>
                                <div class="flex items-center text-gray-600">
                                    <div class="w-5 h-5 mr-2 text-gray-500">
                                        <i data-lucide="clock" class="w-5 h-5"></i>
                                    </div>
                                    <span>15 min isochrone</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="bg-white rounded-lg shadow-sm p-6 transition-all duration-300 hover:shadow-md">
                            <div class="flex justify-between items-start mb-4">
                                <h2 class="text-lg font-semibold text-gray-900">Last KML Sent</h2>
                                <span class="text-sm text-gray-500">Mar 24, 2025 - 14:12</span>
                            </div>
                            <div class="space-y-3">
                                <div class="flex items-center text-gray-600">
                                    <div class="w-5 h-5 mr-2 text-gray-500">
                                        <i data-lucide="map-pin" class="w-5 h-5"></i>
                                    </div>
                                    <span>Facilities: 3</span>
                                </div>
                                <div class="flex items-center text-gray-600">
                                    <div class="w-5 h-5 mr-2 text-gray-500">
                                        <i data-lucide="route" class="w-5 h-5"></i>
                                    </div>
                                    <span>Routes: 45</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="mt-8 bg-white rounded-lg shadow-sm p-6">
                        <h2 class="text-lg font-semibold text-gray-900 mb-4">Recent Activity</h2>
                        <div class="space-y-4">
                            <div class="flex items-start pb-4 border-b border-gray-100">
                                <div class="w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center mr-3 flex-shrink-0">
                                    <i data-lucide="clock" class="w-5 h-5 text-blue-600"></i>
                                </div>
                                <div class="flex-1">
                                    <h3 class="text-sm font-medium text-gray-900">Optimization Completed</h3>
                                    <p class="text-sm text-gray-500">3 facilities, 45 routes generated</p>
                                </div>
                                <div class="text-xs text-gray-400 whitespace-nowrap">2 hours ago</div>
                            </div>
                            
                            <div class="flex items-start pb-4 border-b border-gray-100">
                                <div class="w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center mr-3 flex-shrink-0">
                                    <i data-lucide="clock" class="w-5 h-5 text-blue-600"></i>
                                </div>
                                <div class="flex-1">
                                    <h3 class="text-sm font-medium text-gray-900">KML Streamed to LG</h3>
                                    <p class="text-sm text-gray-500">Visualization sent to Liquid Galaxy</p>
                                </div>
                                <div class="text-xs text-gray-400 whitespace-nowrap">2 hours ago</div>
                            </div>
                            
                            <div class="flex items-start">
                                <div class="w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center mr-3 flex-shrink-0">
                                    <i data-lucide="clock" class="w-5 h-5 text-blue-600"></i>
                                </div>
                                <div class="flex-1">
                                    <h3 class="text-sm font-medium text-gray-900">Data Imported</h3>
                                    <p class="text-sm text-gray-500">45 demand points from CSV</p>
                                </div>
                                <div class="text-xs text-gray-400 whitespace-nowrap">3 hours ago</div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Data Input Section -->
            <section id="datainput-section" class="page-section hidden">
                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
                    <div class="border-b border-gray-200 pb-4">
                        <h1 class="text-2xl font-bold text-gray-900">Data Input</h1>
                        <p class="text-sm text-gray-500 mt-1">Upload and configure your facility data</p>
                    </div>
                    
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mt-6">
                        <div class="bg-white rounded-lg shadow-sm p-6">
                            <h2 class="text-lg font-semibold text-gray-900 mb-4">Demand & Facility Location Data</h2>
                            
                            <div class="border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-blue-500 transition-colors cursor-pointer drop-zone">
                                <i data-lucide="upload" class="h-12 w-12 text-gray-400 mx-auto mb-4"></i>
                                <p class="text-gray-600 mb-2">Drag and drop your CSV file here</p>
                                <p class="text-sm text-gray-500">or <span class="text-blue-600 hover:underline">browse files</span></p>
                            </div>
                            
                            <div class="flex items-center my-4">
                                <div class="flex-grow h-px bg-gray-200"></div>
                                <span class="px-3 text-gray-500 text-sm">OR</span>
                                <div class="flex-grow h-px bg-gray-200"></div>
                            </div>
                            
                            <div class="space-y-2">
                                <label for="manual-data" class="block text-sm font-medium text-gray-700">Manual Input</label>
                                <textarea 
                                    id="manual-data" 
                                    rows="6"
                                    class="w-full px-3 py-2 border border-gray-300 rounded-md font-mono text-sm focus:ring-blue-500 focus:border-blue-500"
                                    placeholder="40.7128, -74.0060, facility&#10;40.7589, -73.9851, demand"
                                ></textarea>
                                <p class="text-xs text-gray-500 mt-1">Format: latitude, longitude, type (facility or demand)</p>
                            </div>
                        </div>

                        <div class="bg-white rounded-lg shadow-sm p-6">
                            <h2 class="text-lg font-semibold text-gray-900 mb-4">Optimization Settings</h2>
                            
                            <div class="space-y-4">
                                <div>
                                    <label for="num-facilities" class="block text-sm font-medium text-gray-700">Number of Facilities</label>
                                    <input 
                                        id="num-facilities" 
                                        type="number" 
                                        min="1"
                                        class="mt-1 w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"
                                        placeholder="Enter number of facilities" 
                                        value="3" 
                                        step="1" 
                                    />
                                    <p class="text-xs text-gray-500 mt-1">Must be greater than 0</p>
                                </div>
                                
                                <div>
                                    <label for="isochrone-duration" class="block text-sm font-medium text-gray-700">Isochrone Duration (minutes)</label>
                                    <div class="relative mt-1">
                                        <input 
                                            id="isochrone-duration" 
                                            type="number" 
                                            min="5" 
                                            max="60"
                                            class="w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 pr-16"
                                            placeholder="Enter duration (5-60 minutes)" 
                                            value="15" 
                                            step="5" 
                                        />
                                        <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3 text-gray-700">
                                            <span class="text-sm">minutes</span>
                                        </div>
                                    </div>
                                    <p class="text-xs text-gray-500 mt-1">Range: 5-60 minutes</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="mt-8 flex justify-end">
                        <button class="btn-primary px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors flex items-center justify-center space-x-2">
                            <i data-lucide="calculator" class="w-5 h-5 mr-2"></i>
                            <span>Start Optimization</span>
                        </button>
                    </div>
                </div>
            </section>

            <!-- Controls Section -->
            <section id="controls-section" class="page-section hidden">
                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
                    <div class="border-b border-gray-200 pb-4">
                        <h1 class="text-2xl font-bold text-gray-900">Controls</h1>
                        <p class="text-sm text-gray-500 mt-1">Manage Liquid Galaxy visualization settings</p>
                    </div>
                    
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mt-6">
                        <div class="bg-white rounded-lg shadow-sm p-6 flex flex-col">
                            <h2 class="text-lg font-semibold text-gray-900 mb-4">Stream to LG</h2>
                            <p class="text-gray-600 mb-6 flex-grow">Stream KML files to Liquid Galaxy rig</p>
                            <button class="btn-primary w-full h-12 bg-blue-600 text-white hover:bg-blue-700 transition-colors rounded-md flex items-center justify-center">
                                <i data-lucide="play" class="w-5 h-5 mr-2"></i>Stream KML
                            </button>
                        </div>
                        
                        <div class="bg-white rounded-lg shadow-sm p-6 flex flex-col">
                            <h2 class="text-lg font-semibold text-gray-900 mb-4">Clear Overlays</h2>
                            <p class="text-gray-600 mb-6 flex-grow">Remove all visual overlays from LG</p>
                            <button class="btn-danger w-full h-12 bg-red-600 text-white hover:bg-red-700 transition-colors rounded-md flex items-center justify-center">
                                <i data-lucide="trash-2" class="w-5 h-5 mr-2"></i>Clear All
                            </button>
                        </div>
                        
                        <div class="bg-white rounded-lg shadow-sm p-6 flex flex-col">
                            <h2 class="text-lg font-semibold text-gray-900 mb-4">Re-launch LG Rig</h2>
                            <div class="flex-grow">
                                <p class="text-gray-600 mb-2">Last re-launch: <span id="lastResetTime">Mar 24, 2025 - 14:12</span></p>
                                <p class="text-gray-600">Restore default LG system state and camera position</p>
                            </div>
                            <button 
                                id="resetButton"
                                class="btn-secondary w-full h-12 bg-gray-700 text-white hover:bg-gray-800 transition-colors rounded-md flex items-center justify-center"
                            >
                                <i data-lucide="rotate-ccw" class="w-5 h-5 mr-2"></i>Re-launch System
                            </button>
                        </div>
                    </div>
                    
                    <div class="mt-8 bg-white rounded-lg shadow-sm p-6">
                        <h2 class="text-lg font-semibold text-gray-900 mb-4">Visualization Options</h2>
                        
                        <div>
                            <h3 class="text-sm font-medium text-gray-700 mb-2">Layer Visibility</h3>
                            <div class="space-y-2">
                                <label class="flex items-center cursor-pointer">
                                    <div class="relative">
                                        <input type="checkbox" class="sr-only toggle-input" checked />
                                        <div class="block bg-gray-300 w-10 h-6 rounded-full"></div>
                                        <div class="dot absolute left-1 top-1 bg-white w-4 h-4 rounded-full transition transform translate-x-4 bg-blue-600"></div>
                                    </div>
                                    <div class="ml-3 text-sm font-medium text-gray-700">Facilities</div>
                                </label>
                                
                                <label class="flex items-center cursor-pointer">
                                    <div class="relative">
                                        <input type="checkbox" class="sr-only toggle-input" checked />
                                        <div class="block bg-gray-300 w-10 h-6 rounded-full"></div>
                                        <div class="dot absolute left-1 top-1 bg-white w-4 h-4 rounded-full transition transform translate-x-4 bg-blue-600"></div>
                                    </div>
                                    <div class="ml-3 text-sm font-medium text-gray-700">Service Areas</div>
                                </label>
                                
                                <label class="flex items-center cursor-pointer">
                                    <div class="relative">
                                        <input type="checkbox" class="sr-only toggle-input" />
                                        <div class="block bg-gray-300 w-10 h-6 rounded-full"></div>
                                        <div class="dot absolute left-1 top-1 bg-white w-4 h-4 rounded-full transition"></div>
                                    </div>
                                    <div class="ml-3 text-sm font-medium text-gray-700">Demand Points</div>
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Settings Section -->
            <section id="settings-section" class="page-section hidden">
                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
                    <div class="border-b border-gray-200 pb-4">
                        <h1 class="text-2xl font-bold text-gray-900">Settings</h1>
                        <p class="text-sm text-gray-500 mt-1">Configure your Liquid Galaxy connection</p>
                    </div>
                    
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mt-6">
                        <div class="bg-white rounded-lg shadow-sm p-6">
                            <h2 class="text-lg font-semibold text-gray-900 mb-4">Connect to LG Rig</h2>
                            
                            <div class="mb-6">
                                <button id="open-camera" class="btn-primary w-full px-4 py-3 bg-blue-600 text-white hover:bg-blue-700 transition-colors rounded-md flex items-center justify-center">
                                    <i data-lucide="camera" class="w-5 h-5 mr-2"></i>Open Camera
                                </button>
                                <p class="text-xs text-gray-500 mt-2 text-center">Open your camera to scan the QR code displayed on your Liquid Galaxy master node</p>
                                
                                <div id="camera-container" class="hidden mt-4">
                                    <video id="qr-video" class="w-full h-48 bg-gray-100 rounded-md"></video>
                                </div>
                            </div>
                            
                            <div class="flex items-center my-4">
                                <div class="flex-grow h-px bg-gray-200"></div>
                                <span class="px-3 text-gray-500 text-sm">OR CONNECT MANUALLY</span>
                                <div class="flex-grow h-px bg-gray-200"></div>
                            </div>
                            
                            <div class="space-y-4">
                                <div>
                                    <label for="username" class="block text-sm font-medium text-gray-700">Username</label>
                                    <input 
                                        id="username" 
                                        type="text" 
                                        placeholder="lg"
                                        class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 px-3 py-2 border"
                                    />
                                </div>
                                
                                <div>
                                    <label for="password" class="block text-sm font-medium text-gray-700">Password</label>
                                    <input 
                                        id="password" 
                                        type="password" 
                                        placeholder="••••••••"
                                        class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 px-3 py-2 border"
                                    />
                                </div>
                                
                                <div>
                                    <label for="ip-address" class="block text-sm font-medium text-gray-700">IP Address</label>
                                    <input 
                                        id="ip-address" 
                                        type="text" 
                                        placeholder="192.168.1.100"
                                        class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 px-3 py-2 border"
                                    />
                                </div>
                                
                                <div>
                                    <label for="port" class="block text-sm font-medium text-gray-700">Port</label>
                                    <input 
                                        id="port" 
                                        type="text" 
                                        placeholder="22"
                                        class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 px-3 py-2 border"
                                    />
                                </div>
                                
                                <div>
                                    <label for="num-rigs" class="block text-sm font-medium text-gray-700">Number of Rigs</label>
                                    <input 
                                        id="num-rigs" 
                                        type="number" 
                                        placeholder="3"
                                        class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 px-3 py-2 border"
                                    />
                                </div>
                            </div>
                            
                            <button class="btn-primary w-full mt-6 px-4 py-3 bg-blue-600 text-white hover:bg-blue-700 transition-colors rounded-md flex items-center justify-center">
                                <i data-lucide="link" class="w-5 h-5 mr-2"></i>Connect
                            </button>
                        </div>
                        
                        <div class="bg-white rounded-lg shadow-sm p-6">
                            <h2 class="text-lg font-semibold text-gray-900 mb-4">API Configuration</h2>
                            
                            <div class="space-y-4">
                                <div>
                                    <label for="routing-api" class="block text-sm font-medium text-gray-700">Routing API</label>
                                    <select 
                                        id="routing-api" 
                                        class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 px-3 py-2 border"
                                    >
                                        <option value="osrm">OSRM (Open Source Routing Machine)</option>
                                        <option value="valhalla">Valhalla</option>
                                        <option value="google">Google Routes API</option>
                                    </select>
                                </div>
                                
                                <div>
                                    <label for="api-key" class="block text-sm font-medium text-gray-700">API Key (if required)</label>
                                    <input 
                                        id="api-key" 
                                        type="password" 
                                        placeholder="Enter API key"
                                        class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 px-3 py-2 border"
                                    />
                                </div>
                                
                                <div>
                                    <label for="api-endpoint" class="block text-sm font-medium text-gray-700">API Endpoint URL</label>
                                    <input 
                                        id="api-endpoint" 
                                        type="text" 
                                        placeholder="https://api.example.com/v1/"
                                        class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 px-3 py-2 border"
                                    />
                                </div>
                            </div>
                            
                            <button class="btn-primary w-full mt-6 px-4 py-3 bg-blue-600 text-white hover:bg-blue-700 transition-colors rounded-md flex items-center justify-center">
                                Save API Settings
                            </button>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <script src="script.js"></script>
</body>
</html>